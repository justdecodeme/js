<!DOCTYPE html>
<html lang="en">
<body>
    <script>
        // JavaScript variables can belong to the local or global scope.
        // Global variables can be made local (private) with closures.
        // A closure is a function having access to the parent scope, even after the parent function has closed.

        var add = (function () {
            console.log('outer');
            var counter = 0;
            return function () {
                console.log('inner');
                return counter += 1;
            }
        })();
        
        console.log(add()); // 1
        console.log(add()); // 2
        console.log(add()); // 3

        // The variable add is assigned the return value of a self-invoking function.

        // The self-invoking function only runs once. It sets the counter to zero (0), and returns a function expression.

        // This way add becomes a function. The "wonderful" part is that it can access the counter in the parent scope.

        // This is called a JavaScript closure. It makes it possible for a function to have "private" variables.

        // The counter is protected by the scope of the anonymous function, and can only be changed using the add function                
    </script>
</body>
</html>
