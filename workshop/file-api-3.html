<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>File API | Image File Reader | readAsText()</title>
	<style>
		#fileDisplayArea {
		    width: auto;
		    overflow: auto;
		    max-width: 100%;
		    padding: 10px;
				background: rgba(0, 0, 0, 0.1);
		}
	</style>
</head>
<body>
	<h1>File API | Image File Reader | readAsText()</h1>
	<div id="page-wrapper">
		<div>Select a text file: <input type="file" id="fileInput"></div>
		<div id="fileDisplayArea"></div>
	</div>

	<script>
		window.onload = function() {

				var fileInput = document.getElementById('fileInput');
				var fileDisplayArea = document.getElementById('fileDisplayArea');

				fileInput.addEventListener('change', function(e) {
					var file = fileInput.files[0];

					if (file.type.match(/image.*/)) {
						var reader = new FileReader();

						reader.onload = function(e) {
							fileDisplayArea.innerHTML = "";

							var img = new Image();
							img.src = reader.result;

							fileDisplayArea.appendChild(img);
						}

						reader.readAsDataURL(file);
					} else {
						fileDisplayArea.innerHTML = "File not supported!"
					}
				});

		}
	</script>
</body>
</html>
